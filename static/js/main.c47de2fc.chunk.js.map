{"version":3,"sources":["Components/Map.js","App.js","index.js"],"names":["Map","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","panel","center","coordinates","lat","long","scooters","onChangePanel","bind","assertThisInitialized","onGeolocation","localStorage","setItem","JSON","stringify","mapboxgl","require","accessToken","map","container","style","zoom","document","getElementById","addEventListener","setTimeout","parse","getItem","flyTo","Marker","color","setLngLat","addTo","on","_loop","i","point","loadImage","error","image","addImage","addLayer","id","type","source","data","features","geometry","layout","icon-image","icon-size","e","description","Popup","setHTML","getCanvas","cursor","length","_panel","setState","_this2","window","navigator","geolocation","getCurrentPosition","position","_lat","coords","latitude","_long","longitude","_this3","react_default","a","createElement","className","onClick","Fragment","src","React","Component","App","react_router_dom","react_router","path","component","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.c47de2fc.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom'\n\nimport '../style.css';\n\n\nclass Map extends React.Component {\n\tconstructor (props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tpanel: 'find',\n            center: [30.3165, 59.9392],\n\t\t\tcoordinates: { lat: null, long: null },\n\t\t\tscooters: [[30.342459, 59.914796]]\n\t\t}\n\t\tthis.onChangePanel = this.onChangePanel.bind(this);\n\t\tthis.onGeolocation = this.onGeolocation.bind(this);\n\t}\n\n    componentDidMount() {\n\t\t// localStorage.setItem('coordinates', '');\n\t\tlocalStorage.setItem('scooters', JSON.stringify(this.state.scooters));\n\n\t\tvar mapboxgl = require('mapbox-gl/dist/mapbox-gl.js');\n        mapboxgl.accessToken = 'pk.eyJ1IjoibWlrZS1wZXRyb3YiLCJhIjoiY2p4MW1idnI2MGFnczQ5cWZtcHExYXVucSJ9.R5eaAB5PePMxt7dM9PEFqg';\n        var map = new mapboxgl.Map({\n            container: 'mapbox',\n            style: 'mapbox://styles/mapbox/streets-v11',\n            center: this.state.center,\n\t\t\tzoom: 12\n        });\n\n\t\tdocument.getElementById('btn-now').addEventListener('click', function() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tlet coordinates = JSON.parse(localStorage.getItem('coordinates'));\n\t\t\t\tmap.flyTo({\n\t\t\t\t\tcenter: coordinates,\n\t\t\t\t\tzoom: 15\n\t\t\t\t});\n\n\t\t\t\tnew mapboxgl.Marker({color:'#e20074'})\n\t\t\t\t.setLngLat(coordinates)\n\t\t\t\t.addTo(map);\n\n\t\t\t}, 1000);\n\t\t});\n\n        map.on('load', function () {\n\t\t\tlet scooters = JSON.parse(localStorage.getItem('scooters'));\n\t\t\tfor(let i = 0; i < scooters.length; i++) {\n\t\t\t\tlet scooters = JSON.parse(localStorage.getItem('scooters'));\n\t\t\t\tlet coordinates = scooters[i];\n\t\t\t\tlet point = 'scooter#'+i;\n\n\t\t\t\tmap.loadImage('https://i.ibb.co/Q9Bq7x8/scooter.png', function(error, image) {\n\t\t\t\t\tif (error)\n\t\t\t\t\t\tthrow error;\n\t\t\t\t\tmap.addImage('scooter', image);\n\t\t\t\t\tmap.addLayer({\n\t\t\t\t\t\t\"id\": \"point\",\n\t\t\t\t\t\t\"type\": \"symbol\",\n\t\t\t\t\t\t\"source\": {\n\t\t\t\t\t\t\t\"type\": \"geojson\",\n\t\t\t\t\t\t\t\"data\": {\n\t\t\t\t\t\t\t\t\"type\": \"FeatureCollection\",\n\t\t\t\t\t\t\t\t\"features\": [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\"type\": \"Feature\",\n\t\t\t\t\t\t\t\t\t\t\"geometry\": {\n\t\t\t\t\t\t\t\t\t\t\t\"type\": \"Point\",\n\t\t\t\t\t\t\t\t\t\t\t\"coordinates\": coordinates\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"layout\": {\n\t\t\t\t\t\t\t\"icon-image\": \"scooter\",\n\t\t\t\t\t\t\t\"icon-size\": 0.06\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\t// map.addSource(point, {\n\t\t\t\t// \t\"type\" : \"geojson\",\n\t\t\t\t// \t\"data\" : {\n\t\t\t\t// \t    \"type\": \"FeatureCollection\",\n\t\t\t\t// \t    \"features\": [{\n\t\t\t\t//             \"type\": \"Feature\",\n\t\t\t\t//             \"geometry\": {\n\t\t\t\t//                 \"type\": \"Point\",\n\t\t\t\t//                 \"coordinates\": coordinates\n\t\t\t\t//             }\n\t\t\t\t//         }]\n\t\t\t\t// \t}\n\t\t\t\t// });\n\t\t\t\t//\n\t\t\t\t// map.addLayer({\n\t\t\t\t//     \"id\": point,\n\t\t\t\t//     \"type\": \"circle\",\n\t\t\t\t//     \"source\": point,\n\t\t\t\t//     \"paint\": {\n\t\t\t\t//         \"circle-radius\": 6,\n\t\t\t\t//         \"circle-color\": '#e74c3c'\n\t\t\t\t//     }\n\t\t\t\t// });\n\n\t\t\t\tmap.on('click', point, function (e) {\n\t\t\t\t\tlet scooters = JSON.parse(localStorage.getItem('scooters'));\n\t\t\t\t\tlet coordinates = scooters[i];\n\t\t\t\t\tlet description = 'Scooter#' + i;\n\n\t\t\t\t\tmap.flyTo({\n\t\t\t\t\t\tcenter: coordinates,\n\t\t\t\t\t\tzoom: 15\n\t\t\t\t\t});\n\n\t\t\t\t\tnew mapboxgl.Popup()\n\t\t\t\t\t.setLngLat(coordinates)\n\t\t\t\t\t.setHTML(description)\n\t\t\t\t\t.addTo(map);\n\t\t\t\t});\n\n\t\t\t\tmap.on('mouseenter', point, function () {\n\t\t\t\t\tmap.getCanvas().style.cursor = 'pointer';\n\t\t\t\t});\n\n\t\t\t\tmap.on('mouseleave', point, function () {\n\t\t\t\t\tmap.getCanvas().style.cursor = '';\n\t\t\t\t});\n\t\t\t}\n\t\t});\n    }\n\n\tonChangePanel(_panel) {\n\t\tthis.setState({ panel: _panel });\n\t}\n\n\tonGeolocation() {\n\t\twindow.navigator.geolocation.getCurrentPosition((position) => {\n\t\t\tlet _lat = position.coords.latitude;\n\t\t\tlet _long = position.coords.longitude;\n\t\t\tlet coordinates = [_long,_lat];\n\t\t\tlocalStorage.setItem('coordinates', JSON.stringify(coordinates));\n\t\t\tthis.setState({ coordinates: { lat: _lat, long: _long } });\n\t\t});\n\t}\n\n    render() {\n        return (\n\t\t\t<div className=\"map\">\n\t\t\t\t<div id=\"panel\">\n\t\t\t\t\t<div onClick={()=>{this.onChangePanel('profile')}}>\n\t\t\t\t\t\t<i className=\"fas fa-user\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div onClick={()=>{this.onChangePanel('find')}}>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div onClick={()=>{this.onGeolocation()}} id=\"btn-now\">\n\t\t\t\t\t\t<i className=\"fas fa-location-arrow\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"mapbox\"></div>\n\t\t\t\t<div id=\"package\">\n\t\t\t\t\t{this.state.panel === 'find' &&\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<img src=\"./img/scooter.png\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"scooter-info\">\n\t\t\t\t\t\t\t\t<div id=\"scooter-number\">\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-hashtag\"></i> 225403\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div id=\"scooter-name\">\n\t\t\t\t\t\t\t\t\tXiaomi\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div id=\"scooter-energy\">\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-bolt\"></i> 59 %\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"scooter-play\" onClick={()=>{this.onChangePanel('start')}}>\n\t\t\t\t\t\t\t\tSTART\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t}\n\t\t\t\t\t{this.state.panel === 'profile' &&\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<div id=\"scooter-name\">\n\t\t\t\t\t\t\t\tUser\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t}\n\t\t\t\t\t{this.state.panel === 'start' &&\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<div id=\"scooter-name\">\n\t\t\t\t\t\t\t\tStart\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t}\n\t\t\t\t</div>\n             </div>\n        );\n    }\n}\n\nexport default Map;\n","import React from 'react';\nimport {  BrowserRouter, Switch, Route } from 'react-router-dom'\n\nimport Map from './Components/Map';\nimport './style.css';\n\n\nclass App extends React.Component {\n    render() {\n        return (\n\t\t\t<BrowserRouter>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path='/' component={Map}/>\n\t\t\t   </Switch>\n\t   \t\t</BrowserRouter>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}