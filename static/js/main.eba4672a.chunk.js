(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){},48:function(e,t,a){e.exports=a(92)},89:function(e,t){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(45),l=a.n(r),c=a(14),i=a(15),s=a(17),m=a(16),d=a(18),u=a(26),f=a(5),p=a(7),g={type:"FeatureCollection",features:[{type:"Feature",properties:{name:"~5 min"},geometry:{type:"Polygon",coordinates:[[[30.347522,59.91534],[30.350097,59.914953],[30.348316,59.912124],[30.345677,59.912549]]]}},{type:"Feature",properties:{name:"~2 min"},geometry:{type:"Polygon",coordinates:[[[30.340816,59.910849],[30.343884,59.910284],[30.342478,59.908412],[30.339506,59.909176],[30.340816,59.910849]]]}},{type:"Feature",properties:{name:"~2 min"},geometry:{type:"Polygon",coordinates:[[[30.340634,59.915352],[30.342147,59.915597],[30.342467,59.915283],[30.340691,59.915001],[30.340634,59.915352]]]}}]},v=(a(30),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={balance:100,panel:"find",time:null,scooterCurrent:0,center:[30.3165,59.9392],coordinates:{lat:null,long:null},scooters:[[30.33922,59.913066]]},a.onChangePanel=a.onChangePanel.bind(Object(p.a)(a)),a.onGeolocation=a.onGeolocation.bind(Object(p.a)(a)),a.onUpdateScooter=a.onUpdateScooter.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){localStorage.setItem("scooters",JSON.stringify(this.state.scooters));var e=a(53);e.accessToken="pk.eyJ1IjoibWlrZS1wZXRyb3YiLCJhIjoiY2p4MW1idnI2MGFnczQ5cWZtcHExYXVucSJ9.R5eaAB5PePMxt7dM9PEFqg";var t=new e.Map({container:"mapbox",style:"mapbox://styles/mapbox/streets-v11",center:this.state.center,zoom:12});document.getElementById("btn-now").addEventListener("click",function(){setTimeout(function(){var a=JSON.parse(localStorage.getItem("coordinates"));t.flyTo({center:a,zoom:15}),new e.Marker({color:"#e20074"}).setLngLat(a).addTo(t)},1e3)}),t.on("load",function(){for(var a,n=t.getStyle().layers,o=0;o<n.length;o++)if("symbol"===n[o].type){a=n[o].id;break}t.addLayer({id:"areas-fill",type:"fill",source:{type:"geojson",data:g},layout:{},paint:{"fill-color":"#e20074","fill-opacity":.5}},a),t.on("click","areas-fill",function(a){(new e.Popup).setLngLat(a.lngLat).setHTML(a.features[0].properties.name).addTo(t)});for(var r=JSON.parse(localStorage.getItem("scooters")),l=function(a){var n=JSON.parse(localStorage.getItem("scooters"))[a],o="scooter#"+a;t.loadImage("https://i.ibb.co/Q9Bq7x8/scooter.png",function(e,a){if(e)throw e;t.addImage(o,a),t.addLayer({id:o,type:"symbol",source:{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:n}}]}},layout:{"icon-image":o,"icon-size":.06}})}),t.on("click",o,function(n){var o=JSON.parse(localStorage.getItem("scooters"))[a],r="Scooter_"+a;t.flyTo({center:o,zoom:15}),(new e.Popup).setLngLat(o).setHTML(r).addTo(t)}),t.on("mouseenter",o,function(){t.getCanvas().style.cursor="pointer"}),t.on("mouseleave",o,function(){t.getCanvas().style.cursor=""})},c=0;c<r.length;c++)l(c)})}},{key:"onChangePanel",value:function(e){var t=this;if(this.setState({panel:e}),"book"===e){this.setState({time:"5:00"});var a=300,n=setInterval(function(){if("book"===t.state.panel){var e=a-=1,o=Math.floor(e/60);e%=60,t.setState({time:o+":"+e})}else clearInterval(n)},1e3)}if("start"===e){this.setState({time:"0:00"});var o=0,r=setInterval(function(){if("start"===t.state.panel){var e=o+=1,a=Math.floor(e/60);e%=60,t.setState({time:a+":"+e})}else clearInterval(r)},1e3)}}},{key:"onGeolocation",value:function(){var e=this;window.navigator.geolocation.getCurrentPosition(function(t){var a=t.coords.latitude,n=t.coords.longitude,o=[n,a];localStorage.setItem("coordinates",JSON.stringify(o)),e.setState({coordinates:{lat:a,long:n}})})}},{key:"onUpdateScooter",value:function(e){var t=Number(this.state.scooterCurrent);"previous"===e?t-=1:"next"===e&&(t+=1),this.setState({scooterCurrent:t})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"map"},o.a.createElement("div",{className:"panel panel-left"},o.a.createElement("div",{onClick:function(){e.onChangePanel("profile")}},o.a.createElement("i",{className:"fas fa-user"})),o.a.createElement("div",{onClick:function(){e.onChangePanel("find")}},o.a.createElement("i",{className:"fas fa-search"})),o.a.createElement("div",{onClick:function(){e.onGeolocation()},id:"btn-now"},o.a.createElement("i",{className:"fas fa-location-arrow"}))),o.a.createElement("div",{className:"panel panel-right"},o.a.createElement("div",null,this.state.balance," ",o.a.createElement("i",{className:"fas fa-dice-d6"}))),o.a.createElement("div",{id:"mapbox"}),o.a.createElement("div",{id:"package"},"find"===this.state.panel&&o.a.createElement(o.a.Fragment,null,0===this.state.scooterCurrent?o.a.createElement("div",{className:"disabled"},o.a.createElement("i",{className:"fas fas-lg-left fa-angle-left"})):o.a.createElement("div",{onClick:function(){e.onUpdateScooter("previous")}},o.a.createElement("i",{className:"fas fas-lg-left fa-angle-left"})),0===this.state.scooterCurrent&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement("img",{src:"./img/scooter.png"})),o.a.createElement("div",{className:"scooter-info"},o.a.createElement("div",{id:"scooter-number"},o.a.createElement("i",{className:"fas fa-hashtag"})," 225403"),o.a.createElement("div",{id:"scooter-name"},"Xiaomi"),o.a.createElement("div",{id:"scooter-energy"},o.a.createElement("i",{className:"fas fa-bolt"})," 100 %")),o.a.createElement("div",{id:"scooter-play",onClick:function(){e.onChangePanel("book")}},"BOOK")),1===this.state.scooterCurrent&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement("img",{src:"./img/area.png"})),o.a.createElement("div",{className:"scooter-info"},o.a.createElement("div",{id:"scooter-number"},o.a.createElement("i",{className:"fas fa-hashtag"})," 1"),o.a.createElement("div",{id:"scooter-name"},"Area"),o.a.createElement("div",{id:"scooter-energy"},"~ 2 min")),o.a.createElement("div",{id:"scooter-play",onClick:function(){e.onChangePanel("book")}},"BOOK")),2===this.state.scooterCurrent&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement("img",{src:"./img/area.png"})),o.a.createElement("div",{className:"scooter-info"},o.a.createElement("div",{id:"scooter-number"},o.a.createElement("i",{className:"fas fa-hashtag"})," 2"),o.a.createElement("div",{id:"scooter-name"},"Area"),o.a.createElement("div",{id:"scooter-energy"},"~ 5 min")),o.a.createElement("div",{id:"scooter-play",onClick:function(){e.onChangePanel("book")}},"BOOK")),3===this.state.scooterCurrent&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement("img",{src:"./img/area.png"})),o.a.createElement("div",{className:"scooter-info"},o.a.createElement("div",{id:"scooter-number"},o.a.createElement("i",{className:"fas fa-hashtag"})," 3"),o.a.createElement("div",{id:"scooter-name"},"Area"),o.a.createElement("div",{id:"scooter-energy"},"~ 10 min")),o.a.createElement("div",{id:"scooter-play",onClick:function(){e.onChangePanel("book")}},"BOOK")),3===this.state.scooterCurrent?o.a.createElement("div",{className:"disabled"},o.a.createElement("i",{className:"fas fas-lg-right fa-angle-right"})):o.a.createElement("div",{onClick:function(){e.onUpdateScooter("next")}},o.a.createElement("i",{className:"fas fas-lg-right fa-angle-right"}))),"profile"===this.state.panel&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"scooter-block"},o.a.createElement("div",{className:"scooter-profile"},"Mike Petrov"),o.a.createElement("div",{className:"scooter-profile"},"Trip: 5"),o.a.createElement("div",{className:"scooter-profile"},"4.2 / 5 ",o.a.createElement("i",{className:"fas fa-star"})))),"book"===this.state.panel&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"scooter-block"},o.a.createElement("div",{id:"scooter-time"},this.state.time),o.a.createElement("div",null,o.a.createElement("input",{id:"scooter-input",placeholder:"Finish point (discount)"})),o.a.createElement("div",{id:"scooter-play",onClick:function(){e.onChangePanel("start")}},"START"))),"start"===this.state.panel&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"scooter-block"},o.a.createElement("div",{id:"scooter-time"},this.state.time),o.a.createElement("div",{id:"scooter-play",onClick:function(){e.onChangePanel("finish")}},"Finish"))),"finish"===this.state.panel&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"scooter-block"},o.a.createElement("div",{id:"scooter-time"},this.state.time),o.a.createElement("div",{id:"scooter-play",onClick:function(){e.onChangePanel("find")}},"Ok")))))}}]),t}(o.a.Component)),E=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(u.a,null,o.a.createElement(f.c,null,o.a.createElement(f.a,{path:"/",component:v})))}}]),t}(o.a.Component);a(62);l.a.render(o.a.createElement(E,null),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.eba4672a.chunk.js.map