{"version":3,"sources":["Components/data.js","Components/Map.js","App.js","index.js"],"names":["data","type","features","properties","name","geometry","coordinates","Map","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","balance","panel","time","center","lat","long","scooters","onChangePanel","bind","assertThisInitialized","onGeolocation","localStorage","setItem","JSON","stringify","mapboxgl","require","accessToken","map","container","style","zoom","document","getElementById","addEventListener","setTimeout","parse","getItem","flyTo","Marker","color","setLngLat","addTo","on","firstSymbolId","layers","getStyle","i","length","id","addLayer","source","layout","paint","fill-color","fill-opacity","e","Popup","lngLat","setHTML","_loop","point","loadImage","error","image","addImage","icon-image","icon-size","description","getCanvas","cursor","_panel","_this2","setState","_time","timer1","setInterval","_sec","_min","Math","floor","clearInterval","_time_start","timer2","_this3","window","navigator","geolocation","getCurrentPosition","position","_lat","coords","latitude","_long","longitude","_this4","react_default","a","createElement","className","onClick","Fragment","src","placeholder","React","Component","App","react_router_dom","react_router","path","component","getQrCode","socketName","query","socket","io","concat","forceNew","Promise","resolve","_ref","qrCode","identifier","awaitStatus","_ref2","reject","parsedData","status","_ref3","asyncToGenerator","regenerator_default","mark","_callee","_ref4","ssoQrCode","wrap","_context","prev","next","sent","ReactDOM","render","src_App","stop","apply","arguments","f"],"mappings":"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","file":"static/js/main.1442f5b7.chunk.js","sourcesContent":["export const data = {\n    \"type\": \"FeatureCollection\",\n    \"features\": [\n        {\n            'type': 'Feature',\n            \"properties\": {\n                \"name\": '~5 min'\n            },\n            'geometry': {\n                'type': 'Polygon',\n                'coordinates': [\n                    [\n                        [\n                            30.347522, 59.915340\n                        ],\n                        [\n                            30.350097, 59.914953\n                        ],\n                        [\n                            30.348316, 59.912124\n                        ],\n                        [\n                            30.345677, 59.912549\n                        ]\n                    ]\n                ]\n            }\n        }, {\n            'type': 'Feature',\n            \"properties\": {\n                \"name\": '~2 min'\n            },\n            'geometry': {\n                'type': 'Polygon',\n                'coordinates': [\n                    [\n                        [\n                            30.340816, 59.910849\n                        ],\n                        [\n                            30.343884, 59.910284\n                        ],\n                        [\n                            30.342478, 59.908412\n                        ],\n                        [\n                            30.339506, 59.909176\n                        ],\n                        [\n                            30.340816, 59.910849\n                        ]\n                    ]\n                ]\n            }\n        }\n    ]\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom'\n\n\nimport { data } from './data'\n\nimport '../style.css';\n\n\nclass Map extends React.Component {\n\tconstructor (props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tbalance: 100,\n\t\t\tpanel: 'find',\n\t\t\ttime: null,\n            center: [30.3165, 59.9392],\n\t\t\tcoordinates: { lat: null, long: null },\n\t\t\tscooters: [[30.342459, 59.914796]]\n\t\t}\n\t\tthis.onChangePanel = this.onChangePanel.bind(this);\n\t\tthis.onGeolocation = this.onGeolocation.bind(this);\n\t}\n\n    componentDidMount() {\n\t\tlocalStorage.setItem('scooters', JSON.stringify(this.state.scooters));\n\n\t\tvar mapboxgl = require('mapbox-gl/dist/mapbox-gl.js');\n        mapboxgl.accessToken = 'pk.eyJ1IjoibWlrZS1wZXRyb3YiLCJhIjoiY2p4MW1idnI2MGFnczQ5cWZtcHExYXVucSJ9.R5eaAB5PePMxt7dM9PEFqg';\n        var map = new mapboxgl.Map({\n            container: 'mapbox',\n            style: 'mapbox://styles/mapbox/streets-v11',\n            center: this.state.center,\n\t\t\tzoom: 12\n        });\n\n\t\tdocument.getElementById('btn-now').addEventListener('click', function() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tlet coordinates = JSON.parse(localStorage.getItem('coordinates'));\n\t\t\t\tmap.flyTo({\n\t\t\t\t\tcenter: coordinates,\n\t\t\t\t\tzoom: 15\n\t\t\t\t});\n\n\t\t\t\tnew mapboxgl.Marker({color:'#e20074'})\n\t\t\t\t.setLngLat(coordinates)\n\t\t\t\t.addTo(map);\n\n\t\t\t}, 1000);\n\t\t});\n\n        map.on('load', function () {\n\n\t\t\tvar layers = map.getStyle().layers;\n\t\t\tvar firstSymbolId;\n\t\t\tfor (var i = 0; i < layers.length; i++) {\n\t\t\t    if (layers[i].type === 'symbol') {\n\t\t\t        firstSymbolId = layers[i].id;\n\t\t\t        break;\n\t\t\t    }\n\t\t\t}\n\n\t\t\tmap.addLayer({\n\t\t\t\t'id': 'areas-fill',\n\t\t\t\t'type': 'fill',\n\t\t\t\t'source': {\n\t\t\t\t\t'type': 'geojson',\n\t\t\t\t\t'data': data\n\t\t\t\t},\n\t\t\t\t'layout': {},\n\t\t\t\t'paint': {\n\t\t\t\t\t'fill-color': '#e20074',\n\t\t\t\t\t'fill-opacity': 0.5\n\t\t\t\t}\n\t\t\t}, firstSymbolId);\n\n\t\t\tmap.on('click', 'areas-fill', function (e) {\n\t\t\t\tnew mapboxgl.Popup()\n\t\t\t\t.setLngLat(e.lngLat)\n\t\t\t\t.setHTML(e.features[0].properties.name)\n\t\t\t\t.addTo(map);\n\t\t\t});\n\n\t\t\tlet scooters = JSON.parse(localStorage.getItem('scooters'));\n\t\t\tfor(let i = 0; i < scooters.length; i++) {\n\t\t\t\tlet scooters = JSON.parse(localStorage.getItem('scooters'));\n\t\t\t\tlet coordinates = scooters[i];\n\t\t\t\tlet point = 'scooter#'+i;\n\n\t\t\t\tmap.loadImage('https://i.ibb.co/Q9Bq7x8/scooter.png', function(error, image) {\n\t\t\t\t\tif (error)\n\t\t\t\t\t\tthrow error;\n\t\t\t\t\tmap.addImage('scooter', image);\n\t\t\t\t\tmap.addLayer({\n\t\t\t\t\t\t\"id\": \"point\",\n\t\t\t\t\t\t\"type\": \"symbol\",\n\t\t\t\t\t\t\"source\": {\n\t\t\t\t\t\t\t\"type\": \"geojson\",\n\t\t\t\t\t\t\t\"data\": {\n\t\t\t\t\t\t\t\t\"type\": \"FeatureCollection\",\n\t\t\t\t\t\t\t\t\"features\": [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\"type\": \"Feature\",\n\t\t\t\t\t\t\t\t\t\t\"geometry\": {\n\t\t\t\t\t\t\t\t\t\t\t\"type\": \"Point\",\n\t\t\t\t\t\t\t\t\t\t\t\"coordinates\": coordinates\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"layout\": {\n\t\t\t\t\t\t\t\"icon-image\": \"scooter\",\n\t\t\t\t\t\t\t\"icon-size\": 0.06\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tmap.on('click', point, function (e) {\n\t\t\t\t\tlet scooters = JSON.parse(localStorage.getItem('scooters'));\n\t\t\t\t\tlet coordinates = scooters[i];\n\t\t\t\t\tlet description = 'Scooter#' + i;\n\n\t\t\t\t\tmap.flyTo({\n\t\t\t\t\t\tcenter: coordinates,\n\t\t\t\t\t\tzoom: 15\n\t\t\t\t\t});\n\n\t\t\t\t\tnew mapboxgl.Popup()\n\t\t\t\t\t.setLngLat(coordinates)\n\t\t\t\t\t.setHTML(description)\n\t\t\t\t\t.addTo(map);\n\t\t\t\t});\n\n\t\t\t\tmap.on('mouseenter', point, function () {\n\t\t\t\t\tmap.getCanvas().style.cursor = 'pointer';\n\t\t\t\t});\n\n\t\t\t\tmap.on('mouseleave', point, function () {\n\t\t\t\t\tmap.getCanvas().style.cursor = '';\n\t\t\t\t});\n\t\t\t}\n\t\t});\n    }\n\n\tonChangePanel(_panel) {\n\t\tthis.setState({ panel: _panel });\n\t\tif(_panel === 'book') {\n\t\t\tthis.setState({ time: '5:00' });\n\t\t\tlet _time = 300;\n\t\t\tlet timer1 = setInterval(() => {\n\t\t\t\tif(this.state.panel === 'book') {\n\t\t\t\t\t_time = _time - 1;\n\t\t\t\t\tlet _sec = _time;\n\t\t\t\t\tlet _min = Math.floor(_sec / 60);\n\t\t\t\t\t_sec %= 60;\n\t\t\t\t\tthis.setState({ time: _min + ':' + _sec });\n\t\t\t\t} else {\n\t\t\t\t\tclearInterval(timer1)\n\t\t\t\t};\n\t\t\t}, 1000);\n\t\t}\n\t\tif(_panel === 'start') {\n\t\t\tthis.setState({ time: '0:00' });\n\t\t\tlet _time_start = 0;\n\t\t\tlet timer2 = setInterval(() => {\n\t\t\t\tif(this.state.panel === 'start') {\n\t\t\t\t\t_time_start = _time_start + 1;\n\t\t\t\t\tlet _sec = _time_start;\n\t\t\t\t\tlet _min = Math.floor(_sec / 60);\n\t\t\t\t\t_sec %= 60;\n\t\t\t\t\tthis.setState({ time: _min + ':' + _sec });\n\t\t\t\t} else {\n\t\t\t\t\tclearInterval(timer2)\n\t\t\t\t};\n\t\t\t}, 1000);\n\t\t}\n\t}\n\n\tonGeolocation() {\n\t\twindow.navigator.geolocation.getCurrentPosition((position) => {\n\t\t\tlet _lat = position.coords.latitude;\n\t\t\tlet _long = position.coords.longitude;\n\t\t\tlet coordinates = [_long,_lat];\n\t\t\tlocalStorage.setItem('coordinates', JSON.stringify(coordinates));\n\t\t\tthis.setState({ coordinates: { lat: _lat, long: _long } });\n\t\t});\n\t}\n\n    render() {\n        return (\n\t\t\t<div className=\"map\">\n\t\t\t\t<div className=\"panel panel-left\">\n\t\t\t\t\t<div onClick={()=>{this.onChangePanel('profile')}}>\n\t\t\t\t\t\t<i className=\"fas fa-user\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div onClick={()=>{this.onChangePanel('find')}}>\n\t\t\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div onClick={()=>{this.onGeolocation()}} id=\"btn-now\">\n\t\t\t\t\t\t<i className=\"fas fa-location-arrow\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"panel panel-right\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{ this.state.balance } <i className=\"fas fa-dice-d6\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"mapbox\"></div>\n\t\t\t\t<div id=\"package\">\n\t\t\t\t\t{this.state.panel === 'find' &&\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<img src=\"./img/scooter.png\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"scooter-info\">\n\t\t\t\t\t\t\t\t<div id=\"scooter-number\">\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-hashtag\"></i> 225403\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div id=\"scooter-name\">\n\t\t\t\t\t\t\t\t\tXiaomi\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div id=\"scooter-energy\">\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-bolt\"></i> 59 %\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"scooter-play\" onClick={()=>{this.onChangePanel('book')}}>\n\t\t\t\t\t\t\t\tBOOK\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t}\n\t\t\t\t\t{this.state.panel === 'profile' &&\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<div className=\"scooter-block\">\n\t\t\t\t\t\t\t\t<div className=\"scooter-profile\">\n\t\t\t\t\t\t\t\t\tMike Petrov\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"scooter-profile\">\n\t\t\t\t\t\t\t\t\tTrip: 5\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"scooter-profile\">\n\t\t\t\t\t\t\t\t\t4.2 / 5 <i className=\"fas fa-star\"></i>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t}\n\t\t\t\t\t{this.state.panel === 'book' &&\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<div className=\"scooter-block\">\n\t\t\t\t\t\t\t\t<div id=\"scooter-time\">\n\t\t\t\t\t\t\t\t\t{ this.state.time }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<input id=\"scooter-input\" placeholder=\"Finish point (discount 10%)\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div id=\"scooter-play\" onClick={()=>{this.onChangePanel('start')}}>\n\t\t\t\t\t\t\t\t\tSTART\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t}\n\t\t\t\t\t{this.state.panel === 'start' &&\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<div className=\"scooter-block\">\n\t\t\t\t\t\t\t\t<div id=\"scooter-time\">\n\t\t\t\t\t\t\t\t\t{ this.state.time }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div id=\"scooter-play\" onClick={()=>{this.onChangePanel('finish')}}>\n\t\t\t\t\t\t\t\t\tFinish\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t}\n\t\t\t\t\t{this.state.panel === 'finish' &&\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<div className=\"scooter-block\">\n\t\t\t\t\t\t\t\t<div id=\"scooter-time\">\n\t\t\t\t\t\t\t\t\t{ this.state.time }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div id=\"scooter-play\" onClick={()=>{this.onChangePanel('find')}}>\n\t\t\t\t\t\t\t\t\tOk\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t}\n\t\t\t\t</div>\n             </div>\n        );\n    }\n}\n\nexport default Map;\n","import React from 'react';\nimport {  BrowserRouter, Switch, Route } from 'react-router-dom'\n\nimport Map from './Components/Map';\nimport './style.css';\n\n\nclass App extends React.Component {\n    render() {\n        return (\n\t\t\t<BrowserRouter>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path='/' component={Map}/>\n\t\t\t   </Switch>\n\t   \t\t</BrowserRouter>\n        );\n    }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport io from \"socket.io-client\";\n\nconst backendUrl = \"https://e94dc841.ngrok.io\";\n\nexport const getQrCode = (socketName, query) => {\n    const socket = io(`${backendUrl}/${socketName}/`, {\n        forceNew: true,\n        query\n    });\n    return new Promise(resolve =>\n        socket.on(\"qrCode\", ({ qrCode, identifier }) => resolve({ qrCode, socket, identifier }))\n    );\n};\n\nexport const awaitStatus = ({ socket, identifier }) => {\n    return new Promise((resolve, reject) => {\n        socket.on(identifier, data => {\n            const parsedData = JSON.parse(data);\n            if (parsedData.status === \"failure\") {\n                reject(parsedData);\n            } else {\n                resolve(parsedData);\n            }\n        });\n    });\n};\n\nconst f = async () => {\n    const { qrCode: ssoQrCode, socket, identifier } = await getQrCode(\"authenticate\");\n\n    const img = document.getElementById(\"img\");\n    img.src = ssoQrCode;\n\n    const response = await awaitStatus({ socket, identifier })\n\n    ReactDOM.render(<App />, document.getElementById(\"root\"));\n};\n\nf();\n"],"sourceRoot":""}